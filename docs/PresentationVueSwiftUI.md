# üìò Pr√©senter une vue en SwiftUI

## Sommaire
1. [Introduction](#1-introduction)
2. [Spacer](#2-spacer)
3. [Polices syst√®me](#3-polices-syst√®me)
4. [Tailles des polices syst√®me](#4-tailles-des-polices-syst√®me-swiftui)
5. [Frame](#5-frame)
6. [Espacements et marges](#6-espacements-et-marges)
7. [Alignements fins](#7-alignements-fins)
8. [Divider Group Section](#8-divider-group-section)
9. [GeometryReader](#9-geometryreader)
10. [Safe area et fond plein √©cran](#10-safe-area--fond-plein-√©cran)
11. [Exemples complets (annot√©s)](#11-exemples-complets-annot√©s)
12. [Cheat-sheet](#12-cheat-sheet)

> ‚ÑπÔ∏è Cette version est **p√©dagogique** : chaque extrait est **comment√© ligne par ligne** pour expliquer le *pourquoi* (pas seulement le *comment*).

## 1) Introduction
Une vue SwiftUI est d√©clarative : on compose l‚Äôinterface avec des *stacks*, des espacements, des cadres (`frame`), des polices (`font`) et des styles. Chaque vue est une structure conforme √† `View`, contenant une propri√©t√© :
```swift
var body: some View {
    VStack { // Empile verticalement
        Text("Bonjour SwiftUI") // √âl√©ment textuel
        Button("Appuyer") { print("Tap") } // Action au toucher
    } // VStack g√®re le flux vertical + l'alignement si besoin
} // body d√©crit *ce qu'on veut voir*
```

## 2) Spacer
`Spacer()` cr√©e de l‚Äôespace flexible dans un `VStack` ou `HStack`.
```swift
VStack {
    Text("Titre").font(.title) // Titre visible en haut
    Spacer() // Occupe tout l'espace vertical disponible ‚Üí pousse le bouton en bas
    Button("Continuer") { /* action */ }
        .padding() // Zone cliquable + lisibilit√©
        .frame(maxWidth: .infinity) // S'√©tire sur toute la largeur
        .background(.blue) // Fond bleu du bouton
        .foregroundStyle(.white) // Texte du bouton en blanc
        .cornerRadius(12) // Bouton arrondi
}
.padding() // √âvite que le contenu colle aux bords de l'√©cran
```
```swift
HStack {
    Text("Gauche")
    Spacer() // Pousse le suivant √† l'extr√©mit√© droite
    Text("Droite")
}
```
```swift
HStack {
    Spacer(); Text("A"); Spacer() // Espaces sym√©triques
    Text("B"); Spacer()
    Text("C"); Spacer()
}
```

## 3) Polices syst√®me
### A. Styles adaptatifs
```swift
Text("Titre").font(.largeTitle) // Titre principal (s'adapte accessibilit√©)
Text("Sous-titre").font(.title2) // Sous-titre
Text("Texte").font(.body) // Texte courant
Text("Annotation").font(.caption) // L√©gendes
```
Ces styles s‚Äôadaptent √† la taille de texte d√©finie par l‚Äôutilisateur (accessibilit√©).

### B. Polices pr√©cises
```swift
Text("Texte pr√©cis")
    .font(.system(size: 18, weight: .semibold, design: .rounded)) // Taille/poids/design fig√©s
```

### C. Variantes utiles
```swift
Text("Chiffres align√©s").monospacedDigit() // Alignement vertical parfait pour nombres
Text("Code").font(.system(.body, design: .monospaced)) // Police type code
Text("Gras").bold()
Text("Italique").italic()
Text("Soulign√©").underline()
```

## 4) Tailles des polices syst√®me SwiftUI
| Style | Taille approx. (pt) | Usage recommand√© |
|--------|---------------------|------------------|
| `.caption2` | 11 | Notes, l√©gendes secondaires |
| `.caption` | 12 | L√©gendes, annotations |
| `.footnote` | 13 | Petits textes informatifs |
| `.subheadline` | 15 | Sous-titres discrets |
| `.callout` | 16 | Texte explicatif ou compl√©mentaire |
| `.body` | 17 | Texte standard, lisible par d√©faut |
| `.headline` | 17 (gras) | Titres de section |
| `.title3` | 20 | Sous-titres importants |
| `.title2` | 22 | Titres interm√©diaires |
| `.title` | 28 | Titre d‚Äô√©cran |
| `.largeTitle` | 34 | Titre principal d‚Äôapplication |

## 5) Frame
D√©finit la taille ou l‚Äôalignement d‚Äôune vue.
```swift
Text("Bouton plein √©cran")
    .frame(maxWidth: .infinity, alignment: .leading) // Occupe toute la largeur + align√© √† gauche
    .padding() // Espace autour du texte
    .background(.gray.opacity(0.1)) // Fond l√©ger
    .cornerRadius(8) // Coins arrondis
```
```swift
Color.blue
    .frame(width: 120, height: 80) // Taille fixe
    .cornerRadius(12)
```
```swift
Text("Titre")
    .frame(minHeight: 44) // Hauteur minimale (zone tactile confortable)
```

## 6) Espacements et marges
- `spacing` : espace **entre** les √©l√©ments d‚Äôun stack
- `padding` : marge **autour** d‚Äôun √©l√©ment
```swift
VStack(spacing: 12) { // Espacement vertical uniforme
    Text("Titre").font(.title)
    Text("Texte descriptif")
        .font(.subheadline)
        .multilineTextAlignment(.center) // Casser les lignes proprement
        .padding(.horizontal) // Marges lat√©rales pour la lisibilit√©
}
.padding(.top, 24) // D√©gager le haut de l'√©cran
.padding(.horizontal, 16) // Coh√©rence des marges lat√©rales
```

## 7) Alignements fins
```swift
VStack(alignment: .leading, spacing: 8) {
    Text("Nom")
    Text("Adresse")
} // Tous les textes align√©s √† gauche, espac√©s de 8 pts
```
```swift
HStack(alignment: .firstTextBaseline) { // Aligne la premi√®re ligne de texte
    Text("Grand").font(.title)
    Text("petit").font(.caption)
}
```

## 8) Divider, Group, Section, List
```swift
VStack(spacing: 16) {
    Text("Informations").font(.headline)
    Group { // Grouper sans impact visuel mais utile pour organiser
        Text("Nom : Alice")
        Text("Ville : Paris")
    }
    Divider() // S√©paration visuelle
    Text("Autres d√©tails").font(.subheadline)
}
.padding()
```
üßæ List { ... } en SwiftUI est une vue puissante pour composer rapidement des interfaces √† lignes multiples :  
d√©filement natif, mise √† jour automatique des donn√©es, s√©parateurs, sections, gestes de swipe, etc.

### A) Liste avec sections (statique)

```swift
List {
    Section("Profil") { // En-t√™te + s√©paration automatique
        Text("Nom : Alice")
        Text("√Çge : 42")
    }
    Section("Pr√©f√©rences") {
        Text("Mode sombre : Oui")
    }
}
//.listStyle(.insetGrouped) // Style moderne sur iOS

```

### B) Liste d‚Äô√©l√©ments (donn√©es simples)

> id: \.self convient pour des String uniques.

```swift

struct VuePrenoms: View {
    // On peut aussi rendre ce tableau global, mais le mettre ici rend la vue autonome
    let items = [
        "Alice","David","√âric","Fabien","Guillaume","Henri","Isabelle","Julien",
        "K√©vin","L√©a","Marc","Nicolas","Olivia","Pierre","Quentin","Raoul",
        "Sophie","Th√©o","Ursule","Victor","William"
    ]

    var body: some View {
        List(items, id: \.self) { item in
            Text(item)
        }
        //.listStyle(.insetGrouped) // Style moderne sur iOS
    }
}

```
### C) Variante dynamique (suppression, insertion, rafra√Æchissement)

> Utilise @State si la liste doit changer (supprimer/ajouter).


```swift
struct VuePrenomsDynamique: View {
    @State private var items = [
        "Alice","David","√âric","Fabien","Guillaume","Henri","Isabelle","Julien",
        "K√©vin","L√©a","Marc","Nicolas","Olivia","Pierre","Quentin","Raoul",
        "Sophie","Th√©o","Ursule","Victor","William"
    ]

    var body: some View {
        NavigationStack {
            List {
                Section("Pr√©noms") {
                    ForEach(items, id: \.self) { item in
                        Text(item)
                    }
                    .onDelete { indexSet in
                        items.remove(atOffsets: indexSet)
                    }
                }
            }
            .navigationTitle("Contacts")
            .toolbar {
                EditButton() // Active le mode √©dition (supprimer/r√©ordonner)
                Button {
                    // Exemple d‚Äôinsertion
                    items.insert("Nouveau", at: 0)
                } label: {
                    Image(systemName: "plus")
                }
            }
            .refreshable {
                // Pull to refresh (si donn√©es distantes)
                await Task.sleep(NSEC_PER_SEC / 2) // simul√©
            }
             //.listStyle(.insetGrouped) // Style moderne sur iOS
        }
    }
}
```

## 9) GeometryReader
```swift
GeometryReader { geo in // Fournit la taille disponible (geo.size)
    VStack {
        Text("Largeur: \(Int(geo.size.width))") // Debug utile
        RoundedRectangle(cornerRadius: 12)
            .frame(width: geo.size.width * 0.8, height: 12) // 80% de la largeur
    }
    .frame(maxWidth: .infinity, maxHeight: .infinity, alignment: .top) // Remplir + placer en haut
    .padding()
} // ‚ö†Ô∏è √Ä utiliser avec parcimonie (peut casser certaines mises en page)
```

## 10) Safe area & fond plein √©cran
```swift
ZStack {
    #if os(iOS)
    Color(UIColor.systemBackground).ignoresSafeArea() // Fond adaptatif clair/sombre iOS
    #elseif os(macOS)
    Color(NSColor.windowBackgroundColor).ignoresSafeArea() // √âquivalent macOS
    #endif
    VStack {
        Text("Contenu")
        Spacer()
    }
}
```
```swift
VStack {
    Text("Contenu")
}
.safeAreaInset(edge: .bottom) { // Ajoute une barre/zone en bas, au-dessus du home indicator
    Button("Action bas") { /* action */ }
        .frame(maxWidth: .infinity)
        .padding()
        .background(.blue)
        .foregroundStyle(.white)
}
```

## 11) Exemples complets (annot√©s)
### A. √âcran standard
```swift
struct EcranStandard: View {
    var body: some View {
        ZStack { // Superpose fond + contenu
            #if os(iOS)
            Color(UIColor.systemBackground).ignoresSafeArea() // Fond adaptatif
            #elseif os(macOS)
            Color(NSColor.windowBackgroundColor).ignoresSafeArea()
            #endif
            VStack(spacing: 16) { // Colonne principale
                HStack { // En-t√™te
                    Image(systemName: "waveform.path.ecg") // Ic√¥ne statique
                    Text("Morse Player")
                        .font(.system(size: 28, weight: .bold, design: .rounded)) // Titre fort et lisible
                    Spacer() // Pousse le titre √† gauche et lib√®re l'espace √† droite
                }
                .padding(.horizontal) // Marges lat√©rales sur l'ent√™te
                VStack(alignment: .leading, spacing: 8) { // Zone de message
                    Text("Message").font(.headline) // Libell√©
                    Text("Appuyez pour jouer le code Morse du texte ci-dessous.")
                        .font(.subheadline)
                        .foregroundStyle(.secondary) // Moins saillant
                        .fixedSize(horizontal: false, vertical: true) // √âvite la coupure horizontale
                    Text("SOS SOS SOS")
                        .font(.system(size: 20, weight: .semibold, design: .monospaced)) // Look terminal
                        .padding() // A√®re le bloc
                        .frame(maxWidth: .infinity, alignment: .leading) // S'√©tire et reste align√© √† gauche
                        .background(.gray.opacity(0.1)) // Carte l√©g√®re
                        .cornerRadius(10) // Carte arrondie
                }
                .padding(.horizontal) // Marges lat√©rales sur le bloc texte
                Spacer() // Pousse le bouton en bas d'√©cran
                Button { /* action lecture */ } label: {
                    Text("‚ñ∂Ô∏é Lire le Morse")
                        .font(.title3)
                        .frame(maxWidth: .infinity) // Bouton plein largeur
                        .padding(.vertical, 14) // Hauteur confortable
                        .background(.blue)
                        .foregroundStyle(.white)
                        .cornerRadius(14)
                }
                .padding(.horizontal)
                .padding(.bottom) // D√©gage du bord bas
            }
        }
    }
}
```

### B. Barre de progression
```swift
struct ProgressBar: View {
    var progress: CGFloat = 0.0 // Valeur 0...1; d√©faut = 0
    var body: some View {
        GeometryReader { geo in // On r√©cup√®re la largeur disponible
            ZStack(alignment: .leading) {
                Capsule().fill(.gray.opacity(0.2)) // Rail
                Capsule()
                    .fill(.green) // Remplissage
                    .frame(width: max(0, min(progress, 1)) * geo.size.width) // Clamp 0...1
            }
        }
        .frame(height: 8) // Hauteur fixe de la barre
        .clipShape(Capsule()) // Extr√©mit√©s arrondies propres
    }
}
```

### C. Carte d‚Äôinfo
```swift
struct InfoCard: View {
    let title: String = "Title" // Valeurs par d√©faut ‚Üí utilisable sans param√®tres
    let subtitle: String = "Subtitle"
    let systemIcon: String = "arrow.2.circlepath.circle"
    var body: some View {
        HStack(spacing: 12) { // Ligne principale
            Image(systemName: systemIcon)
                .font(.system(size: 22, weight: .bold))
                .frame(width: 36, height: 36)
                .background(.blue.opacity(0.15)) // Pastille douce
                .clipShape(RoundedRectangle(cornerRadius: 8)) // Carr√© arrondi
            VStack(alignment: .leading, spacing: 2) { // Bloc textes
                Text(title).font(.headline) // Titre carte
                Text(subtitle)
                    .font(.subheadline)
                    .foregroundStyle(.secondary) // Moins saillant
            }
            Spacer() // Pousse l'ensemble √† gauche
        }
        .padding() // A√®re la carte
        .background(.background) // S'adapte au th√®me clair/sombre
        .overlay(
            RoundedRectangle(cornerRadius: 12)
                .stroke(.gray.opacity(0.2), lineWidth: 1) // Liser√© fin
        )
        .clipShape(RoundedRectangle(cornerRadius: 12)) // Carte arrondie
    }
}
```

## 12) Cheat-sheet
| Objectif | Outil |
|-----------|-------|
| Mettre √† la ligne / colonne | `HStack` / `VStack` (+ `spacing`) |
| Superposer | `ZStack` |
| Cr√©er de l‚Äôespace flexible | `Spacer()` |
| Marges | `.padding([.top/.horizontal], value)` |
| Remplir l‚Äôespace | `.frame(maxWidth: .infinity, maxHeight: .infinity)` |
| Aligner le contenu | `.frame(..., alignment: .leading)` |
| Polices accessibles | `.font(.title2 / .body / .caption)` |
| Polices param√©tr√©es | `.font(.system(size:weight:design:))` |
| Chiffres align√©s | `.monospacedDigit()` |
| Fonds & coins arrondis | `.background(...)` + `.cornerRadius(...)` |
| Ligne s√©paratrice | `Divider()` |
| Ignorer la safe area | `.ignoresSafeArea()` |
| Ins√©rer un √©l√©ment dans la safe area | `.safeAreaInset(edge:)` |
| Mise en page d√©pendante de la taille | `GeometryReader` |

> üü¢ **Conseil final :** Structure d‚Äôabord avec `VStack`, `HStack`, `ZStack` + `Spacer()`. Ajoute ensuite `padding`, `frame`, `font` et `background` pour un rendu propre, accessible et coh√©rent.
